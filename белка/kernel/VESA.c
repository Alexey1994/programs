typedef struct
{
	Byte     signature[4];
	Number16 version;
	Number32 oem_string;
	Number32 capabilities;
	Number32 video_modes;
	Number16 total_memory;
}
VESA_Info;


typedef struct
{
	Number16 attributes;
	Number8  window_a;
	Number8  window_b;
	Number16 granularity;
	Number16 window_size;
	Number16 segment_a;
	Number16 segment_b;
	Number32 win_func_ptr;
	Number16 pitch;
	Number16 width;
	Number16 height;
	Number8  w_char;
	Number8  y_char;
	Number8  planes;
	Number8  bpp;
	Number8  banks;
	Number8  memory_model;
	Number8  bank_size;
	Number8  image_pages;
	Number8  reserved0;
 
	Number8  red_mask;
	Number8  red_position;
	Number8  green_mask;
	Number8  green_position;
	Number8  blue_mask;
	Number8  blue_position;
	Number8  reserved_mask;
	Number8  reserved_position;
	Number8  direct_color_attributes;
 
	Number32 framebuffer;
	Number32 off_screen_mem_off;
	Number16 off_screen_mem_size;
	Number8  reserved1[206];
}
VESA_Mode_Info;


#define CHARACTER_WIDTH  9
#define CHARACTER_HEIGHT 19


/*А*/Byte character_A[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,88,255,88,0,0,0,0,0,0,150,255,184,0,0,0,0,0,0,255,118,255,0,0,0,0,0,88,220,0,220,88,0,0,0,0,150,150,0,150,150,0,0,0,0,255,60,0,60,255,0,0,0,60,255,255,255,255,255,60,0,0,150,150,0,0,0,150,150,0,0,255,88,0,0,0,88,255,0,60,255,34,0,0,0,34,255,60,150,184,0,0,0,0,0,184,150,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Б*/Byte character_B[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,150,0,0,255,88,0,0,0,0,0,0,0,255,88,0,0,0,0,0,0,0,255,88,0,0,0,0,0,0,0,255,88,0,0,0,0,0,0,0,255,255,255,255,255,220,0,0,0,255,88,0,0,0,184,255,0,0,255,88,0,0,0,34,255,60,0,255,88,0,0,0,34,255,60,0,255,88,0,0,0,220,255,0,0,255,255,255,255,255,220,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*В*/Byte character_V[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,220,0,0,0,255,88,0,0,0,255,184,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,220,0,0,255,88,0,0,0,255,118,0,0,255,255,255,255,255,88,0,0,0,255,88,0,0,0,150,220,0,0,255,88,0,0,0,34,255,60,0,255,88,0,0,0,34,255,60,0,255,88,0,0,0,184,220,0,0,255,255,255,255,255,220,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Г*/Byte character_G[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,60,255,255,255,255,255,220,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Д*/Byte character_D[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,220,255,255,255,118,0,0,0,0,220,88,0,220,118,0,0,0,0,255,60,0,220,118,0,0,0,34,255,34,0,220,118,0,0,0,88,220,0,0,220,118,0,0,0,150,184,0,0,220,118,0,0,0,220,118,0,0,220,118,0,0,34,255,34,0,0,220,118,0,0,118,220,0,0,0,220,118,0,0,255,88,0,0,0,220,118,0,255,255,255,255,255,255,255,255,255,255,88,0,0,0,0,0,88,255,255,88,0,0,0,0,0,88,255,255,88,0,0,0,0,0,88,255,0,0,0,0,0,0,0,0,0};

/*Е*/Byte character_JE[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,88,255,255,255,255,255,184,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,255,255,255,255,118,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,255,255,255,255,184,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Ё*/Byte character_JEE[] = {0,0,0,0,0,0,0,0,0,0,0,34,255,34,60,255,0,0,0,0,34,255,34,60,255,0,0,0,0,0,0,0,0,0,0,0,0,88,255,255,255,255,255,184,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,255,255,255,255,118,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,255,255,255,255,184,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Ж*/Byte character_GG[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,34,0,34,255,34,0,60,255,118,184,0,34,255,34,0,184,118,0,255,60,34,255,34,88,220,0,0,88,220,34,255,34,220,88,0,0,0,184,150,255,150,184,0,0,0,0,88,255,255,255,88,0,0,0,0,220,118,255,118,220,0,0,0,88,220,34,255,34,220,88,0,0,255,88,34,255,34,88,220,0,118,220,0,34,255,34,0,220,118,255,88,0,34,255,34,0,88,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*З*/Byte character_Z[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,118,0,0,0,220,150,0,0,88,255,88,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,220,118,0,0,0,0,0,0,184,220,0,0,0,0,220,255,255,184,0,0,0,0,0,0,0,0,60,255,88,0,0,0,0,0,0,0,150,184,0,0,0,0,0,0,0,150,184,0,0,184,0,0,0,88,255,88,0,0,220,255,255,255,255,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*И*/Byte character_I[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,60,0,0,0,184,255,0,0,255,60,0,0,60,255,255,0,0,255,60,0,0,184,150,255,0,0,255,60,0,60,255,60,255,0,0,255,60,0,150,150,60,255,0,0,255,60,34,255,34,60,255,0,0,255,60,150,150,0,60,255,0,0,255,60,255,34,0,60,255,0,0,255,184,184,0,0,60,255,0,0,255,255,60,0,0,60,255,0,0,255,184,0,0,0,60,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Й*/Byte character_J[] = {0,0,0,0,0,0,0,0,0,0,0,255,88,0,0,220,118,0,0,0,88,255,255,255,184,0,0,0,0,0,0,0,0,0,0,0,0,255,60,0,0,0,184,255,0,0,255,60,0,0,60,255,255,0,0,255,60,0,0,184,150,255,0,0,255,60,0,60,255,60,255,0,0,255,60,0,150,150,60,255,0,0,255,60,34,255,34,60,255,0,0,255,60,150,150,0,60,255,0,0,255,60,255,34,0,60,255,0,0,255,184,184,0,0,60,255,0,0,255,255,60,0,0,60,255,0,0,255,184,0,0,0,60,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*К*/Byte character_K[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,118,220,0,0,0,0,220,255,0,118,220,0,0,0,184,184,0,0,118,220,0,0,150,220,0,0,0,118,220,0,118,255,0,0,0,0,118,220,88,255,34,0,0,0,0,118,255,255,150,0,0,0,0,0,118,220,60,255,88,0,0,0,0,118,220,0,88,255,60,0,0,0,118,220,0,0,150,255,0,0,0,118,220,0,0,0,184,220,0,0,118,220,0,0,0,0,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Л*/Byte character_L[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,184,255,255,255,255,0,0,0,0,220,118,0,88,255,0,0,0,0,255,88,0,88,255,0,0,0,34,255,60,0,88,255,0,0,0,60,255,34,0,88,255,0,0,0,88,255,0,0,88,255,0,0,0,118,184,0,0,88,255,0,0,0,184,150,0,0,88,255,0,0,0,255,88,0,0,88,255,0,0,88,255,34,0,0,88,255,0,255,255,88,0,0,0,88,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*М*/Byte character_M[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,60,255,184,0,0,0,184,255,60,60,220,220,0,0,0,255,255,60,60,255,184,34,0,34,220,255,60,60,255,150,88,0,88,150,255,60,60,255,88,118,0,150,88,255,60,60,255,60,184,0,184,34,255,60,60,255,0,255,0,255,0,255,60,60,255,0,184,88,184,0,255,60,60,255,0,150,184,118,0,255,60,60,255,0,88,255,88,0,255,60,60,255,0,34,255,34,0,255,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Н*/Byte character_N[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,255,255,255,255,255,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*О*/Byte character_O[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,118,255,255,255,88,0,0,0,118,255,60,0,60,255,88,0,0,255,118,0,0,0,118,220,0,60,255,34,0,0,0,34,255,60,88,255,0,0,0,0,0,255,88,88,255,0,0,0,0,0,255,88,88,255,0,0,0,0,0,255,88,60,255,34,0,0,0,34,255,60,0,255,118,0,0,0,118,220,0,0,118,255,60,0,60,255,88,0,0,0,118,255,255,255,88,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*П*/Byte character_P[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Р*/Byte character_R[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,184,255,255,255,255,150,0,0,0,184,150,0,0,60,255,150,0,0,184,150,0,0,0,118,220,0,0,184,150,0,0,0,88,255,0,0,184,150,0,0,0,118,220,0,0,184,150,0,0,34,255,118,0,0,184,255,255,255,255,118,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*С*/Byte character_S[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,118,255,255,255,255,88,0,0,184,255,34,0,0,118,0,0,118,255,34,0,0,0,0,0,0,220,150,0,0,0,0,0,0,0,255,88,0,0,0,0,0,0,0,255,60,0,0,0,0,0,0,0,255,88,0,0,0,0,0,0,0,220,118,0,0,0,0,0,0,0,118,255,0,0,0,0,0,0,0,0,220,255,34,0,0,34,34,0,0,0,184,255,255,255,255,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Т*/Byte character_T[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,60,255,255,255,255,255,255,255,60,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*У*/Byte character_U[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,184,220,0,0,0,0,0,184,184,34,255,88,0,0,0,34,255,60,0,150,184,0,0,0,118,184,0,0,34,255,60,0,0,220,88,0,0,0,150,150,0,60,255,0,0,0,0,34,255,34,150,150,0,0,0,0,0,184,118,255,34,0,0,0,0,0,60,255,184,0,0,0,0,0,0,0,255,88,0,0,0,34,0,0,184,184,0,0,0,0,88,255,255,220,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Ф*/Byte character_F[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,60,255,0,0,0,0,0,0,0,60,255,0,0,0,0,0,88,255,255,255,255,255,34,0,88,255,88,60,255,0,150,255,0,184,150,0,60,255,0,0,255,88,184,118,0,60,255,0,0,220,118,184,184,0,60,255,0,0,255,88,60,255,88,60,255,0,184,255,0,0,88,255,255,255,255,255,0,0,0,0,0,60,255,0,0,0,0,0,0,0,60,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Х*/Byte character_H[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,60,255,88,0,0,0,88,255,60,0,118,255,0,0,0,220,118,0,0,0,220,118,0,118,220,0,0,0,0,60,255,34,255,60,0,0,0,0,0,184,255,150,0,0,0,0,0,0,88,255,118,0,0,0,0,0,0,255,184,255,0,0,0,0,0,150,184,0,220,150,0,0,0,34,255,34,0,60,255,34,0,0,184,150,0,0,0,184,184,0,118,255,0,0,0,0,60,255,118,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Ц*/Byte character_C[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,88,0,0,0,184,150,0,0,255,88,0,0,0,184,150,0,0,255,88,0,0,0,184,150,0,0,255,88,0,0,0,184,150,0,0,255,88,0,0,0,184,150,0,0,255,88,0,0,0,184,150,0,0,255,88,0,0,0,184,150,0,0,255,88,0,0,0,184,150,0,0,255,88,0,0,0,184,150,0,0,255,88,0,0,0,184,150,0,0,255,255,255,255,255,255,255,220,0,0,0,0,0,0,0,88,220,0,0,0,0,0,0,0,88,220,0,0,0,0,0,0,0,88,220,0,0,0,0,0,0,0,0,0};

/*Ч*/Byte character_CH[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,255,88,0,0,0,88,255,0,0,220,184,0,0,34,255,255,0,0,34,255,255,255,255,150,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Ш*/Byte character_SH[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,34,34,255,255,255,255,255,255,255,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Щ*/Byte character_SHH[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,150,150,0,150,150,0,118,184,0,150,150,0,150,150,0,118,184,0,150,150,0,150,150,0,118,184,0,150,150,0,150,150,0,118,184,0,150,150,0,150,150,0,118,184,0,150,150,0,150,150,0,118,184,0,150,150,0,150,150,0,118,184,0,150,150,0,150,150,0,118,184,0,150,150,0,150,150,0,118,184,0,150,150,0,150,150,0,118,184,0,150,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,60,255,0,0,0,0,0,0,0,60,255,0,0,0,0,0,0,0,60,255,0,0,0,0,0,0,0,0,0};

/*Ь*/Byte character_MJA[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,255,255,255,255,150,0,0,0,184,150,0,0,34,255,150,0,0,184,150,0,0,0,88,255,0,0,184,150,0,0,0,88,255,0,0,184,150,0,0,34,255,150,0,0,184,255,255,255,255,150,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Ы*/Byte character_Y[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,88,220,0,0,0,0,0,255,88,88,220,0,0,0,0,0,255,88,88,220,0,0,0,0,0,255,88,88,220,0,0,0,0,0,255,88,88,220,0,0,0,0,0,255,88,88,255,255,255,220,0,0,255,88,88,220,0,0,184,220,0,255,88,88,220,0,0,34,255,34,255,88,88,220,0,0,34,255,34,255,88,88,220,0,0,220,220,0,255,88,88,255,255,255,184,0,0,255,88,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Ъ*/Byte character_TVJE[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,220,255,255,184,0,0,0,0,0,0,0,150,184,0,0,0,0,0,0,0,150,184,0,0,0,0,0,0,0,150,184,0,0,0,0,0,0,0,150,184,0,0,0,0,0,0,0,150,255,255,255,220,0,0,0,0,150,184,0,0,184,255,0,0,0,150,184,0,0,0,255,88,0,0,150,184,0,0,0,255,88,0,0,150,184,0,0,184,255,0,0,0,150,255,255,255,220,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Э*/Byte character_EE[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,88,255,255,255,255,150,0,0,0,0,150,0,0,34,255,220,0,0,0,0,0,0,0,34,255,118,0,0,0,0,0,0,0,150,220,0,0,0,0,0,0,0,88,255,0,0,0,255,255,255,255,255,255,0,0,0,0,0,0,0,88,255,0,0,0,0,0,0,0,118,184,0,0,0,0,0,0,0,255,118,0,88,0,0,0,34,255,220,0,0,88,255,255,255,255,150,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Ю*/Byte character_JU[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,60,255,0,0,184,255,255,60,0,60,255,0,88,220,0,88,255,0,60,255,0,184,118,0,0,255,60,60,255,0,220,88,0,0,220,88,60,255,0,255,60,0,0,184,118,60,255,255,255,60,0,0,184,118,60,255,0,255,60,0,0,184,118,60,255,0,220,88,0,0,220,88,60,255,0,184,118,0,0,255,60,60,255,0,118,220,0,88,220,0,60,255,0,0,184,255,255,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

/*Я*/Byte character_JA[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,118,255,255,255,255,150,0,0,118,255,60,0,0,184,150,0,0,184,150,0,0,0,184,150,0,0,184,150,0,0,0,184,150,0,0,88,255,60,0,0,184,150,0,0,0,88,255,255,255,255,150,0,0,0,60,255,60,0,184,150,0,0,0,184,184,0,0,184,150,0,0,88,255,34,0,0,184,150,0,0,255,150,0,0,0,184,150,0,184,255,0,0,0,0,184,150,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

Byte character_space[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

Byte character_lesser[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,60,220,0,0,0,0,0,88,255,255,34,0,0,0,118,255,220,0,0,0,0,0,220,150,0,0,0,0,0,0,0,0,118,255,220,0,0,0,0,0,0,0,0,88,255,255,34,0,0,0,0,0,0,0,60,220,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

Byte character_greater[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,220,60,0,0,0,0,0,0,0,34,255,255,88,0,0,0,0,0,0,0,0,220,255,118,0,0,0,0,0,0,0,0,150,220,0,0,0,0,0,220,255,118,0,0,0,34,255,255,88,0,0,0,0,0,220,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

Byte character_0[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,60,255,255,255,60,0,0,0,34,255,88,0,88,255,34,0,0,150,150,0,0,0,184,118,0,0,184,118,0,0,0,118,184,0,0,220,88,0,0,0,88,220,0,0,255,88,0,0,0,88,255,0,0,220,88,0,0,0,88,220,0,0,184,118,0,0,0,118,184,0,0,118,150,0,0,0,184,150,0,0,34,255,88,0,88,255,34,0,0,0,60,255,255,255,60,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

Byte character_1[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,60,255,150,0,0,0,0,0,118,255,220,150,0,0,0,0,60,255,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

Byte character_2[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,150,255,255,255,60,0,0,0,150,220,0,0,118,255,34,0,0,0,0,0,0,0,220,88,0,0,0,0,0,0,0,220,88,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,220,118,0,0,0,0,0,0,184,184,0,0,0,0,0,0,150,220,0,0,0,0,0,0,118,255,0,0,0,0,0,0,88,255,34,0,0,0,0,0,0,220,255,255,255,255,255,220,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

Byte character_3[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,34,255,255,255,255,60,0,0,0,220,118,0,0,118,255,34,0,0,0,0,0,0,0,220,88,0,0,0,0,0,0,0,255,60,0,0,0,0,0,0,184,184,0,0,0,0,88,255,255,184,0,0,0,0,0,0,0,0,60,255,88,0,0,0,0,0,0,0,150,150,0,0,0,0,0,0,0,150,150,0,34,150,0,0,0,88,255,60,0,0,220,255,255,255,255,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

Byte character_4[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,184,0,0,0,0,0,0,184,220,184,0,0,0,0,0,88,220,150,184,0,0,0,0,34,255,34,150,184,0,0,0,0,184,118,0,150,184,0,0,0,118,184,0,0,150,184,0,0,34,255,34,0,0,150,184,0,0,150,255,255,255,255,255,255,255,60,0,0,0,0,0,150,184,0,0,0,0,0,0,0,150,184,0,0,0,0,0,0,0,150,184,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

Byte character_5[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,34,255,255,255,255,255,0,0,0,60,255,0,0,0,0,0,0,0,60,220,0,0,0,0,0,0,0,88,220,0,0,0,0,0,0,0,118,255,255,255,255,60,0,0,0,0,0,0,0,118,255,60,0,0,0,0,0,0,0,184,150,0,0,0,0,0,0,0,150,150,0,0,0,0,0,0,0,184,118,0,0,150,0,0,0,118,255,34,0,0,150,255,255,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

Byte character_6[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,118,255,255,255,34,0,0,0,150,255,0,0,0,0,0,0,60,255,0,0,0,0,0,0,0,150,150,0,0,0,0,0,0,0,184,118,220,255,255,150,0,0,0,220,255,60,0,34,255,118,0,0,220,118,0,0,0,118,184,0,0,184,88,0,0,0,118,220,0,0,150,150,0,0,0,150,184,0,0,34,255,88,0,60,255,88,0,0,0,34,255,255,255,88,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

Byte character_7[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,0,0,0,0,0,0,0,150,184,0,0,0,0,0,0,0,255,88,0,0,0,0,0,0,88,220,0,0,0,0,0,0,0,220,118,0,0,0,0,0,0,60,255,34,0,0,0,0,0,0,150,184,0,0,0,0,0,0,34,255,60,0,0,0,0,0,0,118,220,0,0,0,0,0,0,0,220,118,0,0,0,0,0,0,118,255,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

Byte character_8[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,88,255,255,255,118,0,0,0,60,255,60,0,60,255,88,0,0,118,220,0,0,0,184,118,0,0,88,255,0,0,0,220,88,0,0,0,184,220,0,184,150,0,0,0,0,60,255,255,255,34,0,0,0,88,255,0,0,34,255,88,0,0,184,118,0,0,0,118,184,0,0,220,118,0,0,0,118,220,0,0,150,255,0,0,34,255,118,0,0,0,150,255,255,255,118,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

Byte character_9[] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,88,255,255,255,34,0,0,0,88,255,60,0,88,255,34,0,0,184,150,0,0,0,150,150,0,0,220,118,0,0,0,88,184,0,0,184,118,0,0,0,118,220,0,0,118,255,34,0,60,255,220,0,0,0,150,255,255,220,118,184,0,0,0,0,0,0,0,150,150,0,0,0,0,0,0,0,255,60,0,0,0,0,0,0,255,150,0,0,0,34,255,255,255,118,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};


void draw_VESA_character(VESA_Mode_Info* video_mode, Number16 x, Number16 y, Byte* character_data)
{
	Number i;
	Number j;

	if(video_mode->bpp == 8)
	{
		Number8* framebuffer;

		framebuffer = video_mode->framebuffer + y * CHARACTER_HEIGHT * video_mode->pitch;

		for(i = 0; i < CHARACTER_HEIGHT; ++i)
		{
			for(j = 0; j < CHARACTER_WIDTH; ++j)
				framebuffer[j + x * CHARACTER_WIDTH] = character_data[i * CHARACTER_WIDTH + j] / 16 + 16;

			framebuffer += video_mode->pitch;
		}
	}
}


void draw_character(Number16 x, Number16 y, Byte character)
{
	switch(character)
	{
		case '`': draw_VESA_character(0x7D00, x, y, character_JEE); break;
		case 'Q': draw_VESA_character(0x7D00, x, y, character_J); break;
		case 'W': draw_VESA_character(0x7D00, x, y, character_C); break;
		case 'E': draw_VESA_character(0x7D00, x, y, character_U); break;
		case 'R': draw_VESA_character(0x7D00, x, y, character_K); break;
		case 'T': draw_VESA_character(0x7D00, x, y, character_JE); break;
		case 'Y': draw_VESA_character(0x7D00, x, y, character_N); break;
		case 'U': draw_VESA_character(0x7D00, x, y, character_G); break;
		case 'I': draw_VESA_character(0x7D00, x, y, character_SH); break;
		case 'O': draw_VESA_character(0x7D00, x, y, character_SHH); break;
		case 'P': draw_VESA_character(0x7D00, x, y, character_Z); break;
		case '[': draw_VESA_character(0x7D00, x, y, character_H); break;
		case ']': draw_VESA_character(0x7D00, x, y, character_TVJE); break;
		case 'A': draw_VESA_character(0x7D00, x, y, character_F); break;
		case 'S': draw_VESA_character(0x7D00, x, y, character_Y); break;
		case 'D': draw_VESA_character(0x7D00, x, y, character_V); break;
		case 'F': draw_VESA_character(0x7D00, x, y, character_A); break;
		case 'G': draw_VESA_character(0x7D00, x, y, character_P); break;
		case 'H': draw_VESA_character(0x7D00, x, y, character_R); break;
		case 'J': draw_VESA_character(0x7D00, x, y, character_O); break;
		case 'K': draw_VESA_character(0x7D00, x, y, character_L); break;
		case 'L': draw_VESA_character(0x7D00, x, y, character_D); break;
		case ';': draw_VESA_character(0x7D00, x, y, character_GG); break;
		case '\'': draw_VESA_character(0x7D00, x, y, character_EE); break;
		case 'Z': draw_VESA_character(0x7D00, x, y, character_JA); break;
		case 'X': draw_VESA_character(0x7D00, x, y, character_CH); break;
		case 'C': draw_VESA_character(0x7D00, x, y, character_S); break;
		case 'V': draw_VESA_character(0x7D00, x, y, character_M); break;
		case 'B': draw_VESA_character(0x7D00, x, y, character_I); break;
		case 'N': draw_VESA_character(0x7D00, x, y, character_T); break;
		case 'M': draw_VESA_character(0x7D00, x, y, character_MJA); break;
		case ',': draw_VESA_character(0x7D00, x, y, character_B); break;
		case '.': draw_VESA_character(0x7D00, x, y, character_JU); break;
		case ' ': draw_VESA_character(0x7D00, x, y, character_space); break;
		case '<': draw_VESA_character(0x7D00, x, y, character_lesser); break;
		case '>': draw_VESA_character(0x7D00, x, y, character_greater); break;
		case '0': draw_VESA_character(0x7D00, x, y, character_0); break;
		case '1': draw_VESA_character(0x7D00, x, y, character_1); break;
		case '2': draw_VESA_character(0x7D00, x, y, character_2); break;
		case '3': draw_VESA_character(0x7D00, x, y, character_3); break;
		case '4': draw_VESA_character(0x7D00, x, y, character_4); break;
		case '5': draw_VESA_character(0x7D00, x, y, character_5); break;
		case '6': draw_VESA_character(0x7D00, x, y, character_6); break;
		case '7': draw_VESA_character(0x7D00, x, y, character_7); break;
		case '8': draw_VESA_character(0x7D00, x, y, character_8); break;
		case '9': draw_VESA_character(0x7D00, x, y, character_9); break;

		default:
			draw_VESA_character(0x7D00, x, y, character_space);
	}
}


void draw_VESA_rectangle(VESA_Mode_Info* video_mode, Number16 x, Number16 y, Number16 width, Number16 height, Number32 color)
{
	Number i;
	Number j;

	if(x >= video_mode->width || y >= video_mode->height)
		return;

	if(x + width > video_mode->width)
		width = video_mode->width - x;

	if(y + height > video_mode->height)
		height = video_mode->height - y;

	if(video_mode->bpp == 32)
	{
		Number32* framebuffer;

		framebuffer = video_mode->framebuffer + y * video_mode->pitch;

		for(i = 0; i < height; ++i)
		{
			for(j = 0; j < width; ++j)
				framebuffer[x + j] = color;

			framebuffer = (Byte*)framebuffer + video_mode->pitch;
		}
	}
	else if(video_mode->bpp == 24)
	{
		Number8* framebuffer;

		framebuffer = video_mode->framebuffer + y * video_mode->pitch;

		for(i = 0; i < height; ++i)
		{
			for(j = 0; j < width; ++j)
			{
				framebuffer[x + j * 3] = color;
				framebuffer[x + j * 3 + 1] = color >> 8;
				framebuffer[x + j * 3 + 2] = color >> 16;
			}

			framebuffer += video_mode->pitch;
		}
	}
	else if(video_mode->bpp == 15)
	{
		Number16* framebuffer;

		framebuffer = video_mode->framebuffer + y * video_mode->pitch;

		for(i = 0; i < height; ++i)
		{
			for(j = 0; j < width; ++j)
				framebuffer[x + j] = color;

			framebuffer = (Byte*)framebuffer + video_mode->pitch;
		}
	}
	else if(video_mode->bpp == 8)
	{
/*
		if(color)
			converted_color = 15;
		else
			converted_color = 0;*/

		//    B    G    R

		//0   0    0    0
		//1   168  0    0
		//2   0    168  0
		//3   168  168  0
		//4   0    0    168
		//5   168  0    168
		//6   0    168  168
		//7   168  168  168

		//8   87   87   87
		//9   255  87   87
		//10  87   255  87
		//11  255  255  87
		//12  87   87   255
		//13  255  87   255
		//14  87   255  255
		//15  255  255  255

		//16  0    0    0
		//17  23   23   23
		//18  32   32   32
		//19  47   47   47
		//20  56   56   56
		//21  71   71   71
		//22  80   80   80
		//23  96   96   96
		//24  112  112  112
		//25  128  128  128
		//26  144  144  144
		//27  160  160  160
		//28  183  183  183
		//29  200  200  200
		//30  224  224  224
		//31  255  255  255


/*
0 255 0   0
4 0   255 0
5 255 255 0
2 0   0   255
1 255 0   255
3 0   255 255*/

		//32  255  0    0
		//33  255  0    64
		//34  255  0    127
		//35  255  0    191  R >
		
		//36  255  0    255
		//37  191  0    255
		//38  127  0    255
		//39  64   0    255  B <

		//40  0    0    255
		//41  0    64   255
		//42  0    127  255
		//43  0    191  255  G >

		//44  0    255  255
		//45  0    255  191
		//46  0    255  127
		//47  0    255  64   R <
		
		//48  0    255  0
		//49  64   255  0
		//50  127  255  0
		//51  191  255  0    B >
		
		//52  255  255  0
		//53  255  191  0
		//54  255  127  0
		//55  255   64  0    G <




		//56  255  127  127
		//57  255  127  159
		//58  255  127  191
		//59  255  127  223

		//60  255  127  255
		//61  223  127  255
		//62  191  127  255
		//63  159  127  255

		//64  127  127  255
		//65  127  159  255
		//66  127  191  255
		//67  127  223  255

		//68  127  255  255
		//69  127  255  223
		//70  127  255  191
		//71  127  255  159

		//72  127  255  127
		//73  159  255  127
		//74  191  255  127
		//75  223  255  127

		//76  255  255  127
		//77  255  223  127
		//78  255  191  127
		//79  255  159  127




		//80  255  183  183


		Number8* framebuffer;
		Number8  converted_color;

		converted_color = color;//((color & 0xFF) / 8) + (((color >> 8) & 0xFF) / 8) << 3 + (((color >> 16) & 0xFF) / 8) << 6 + 16;

		framebuffer = video_mode->framebuffer + y * video_mode->pitch;

		for(i = 0; i < height; ++i)
		{
			for(j = 0; j < width; ++j)
				framebuffer[x + j] = converted_color;

			framebuffer += video_mode->pitch;
		}
	}
}


void draw_VESA_image(VESA_Mode_Info* video_mode, Number16 x, Number16 y, Number16 width, Number16 height, Byte* image)
{
	Byte*    framebuffer;
	Number   i;
	Number   j;
	Number16 normal_width;

	if(x >= video_mode->width || y >= video_mode->height)
		return;

	if(x + width > video_mode->width)
		normal_width = video_mode->width - x;
	else
		normal_width = width;

	if(y + height > video_mode->height)
		height = video_mode->height - y;

	{
		framebuffer = video_mode->framebuffer + y * video_mode->pitch;

		for(i = 0; i < height; ++i)
		{
			for(j = 0; j < normal_width; ++j)
				framebuffer[x + j] = image[j];

			framebuffer += video_mode->pitch;
			image += width;
		}
	}
}


void test_VESA()
{
	VESA_Mode_Info* selected_video_mode;
	Number i;

	selected_video_mode = 0x7D00;

	//draw_VESA_image(selected_video_mode, 10, 100, 748, 586, image);

	//draw_VESA_rectangle(selected_video_mode, 100, 100, 200, 200, 0xFFFFFFFF);
/*
	for(;;)
	{
		for(i = 0; i < 200; ++i)
			draw_VESA_rectangle(selected_video_mode, 100, 100, 100 + i, 150, 0xFFFFFFFF);

		draw_VESA_rectangle(selected_video_mode, 100, 100, 300, 150, 0x00000000);
	}*/

	//draw_VESA_character(selected_video_mode, 0, 0, character_O);
}